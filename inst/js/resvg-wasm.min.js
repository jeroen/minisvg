(()=>{var I=Object.defineProperty;var j=(t,e)=>()=>(t&&(e=t(t=0)),e);var U=(t,e)=>{for(var n in e)I(t,n,{get:e[n],enumerable:!0})};var S={};U(S,{Resvg:()=>K,initWasm:()=>G});function g(t){h===w.length&&w.push(w.length+1);let e=h;return h=w[e],w[e]=t,e}function a(t){return w[t]}function M(t){t<132||(w[t]=h,h=t)}function d(t){let e=a(t);return M(t),e}function y(){return(u===null||u.byteLength===0)&&(u=new Uint8Array(r.memory.buffer)),u}function B(t,e,n){if(n===void 0){let c=v.encode(t),b=e(c.length,1)>>>0;return y().subarray(b,b+c.length).set(c),p=c.length,b}let _=t.length,i=e(_,1)>>>0,f=y(),o=0;for(;o<_;o++){let c=t.charCodeAt(o);if(c>127)break;f[i+o]=c}if(o!==_){o!==0&&(t=t.slice(o)),i=n(i,_,_=o+t.length*3,1)>>>0;let c=y().subarray(i+o,i+_),b=D(t,c);o+=b.written,i=n(i,_,o,1)>>>0}return p=o,i}function R(t){return t==null}function s(){return(l===null||l.byteLength===0)&&(l=new Int32Array(r.memory.buffer)),l}function m(t,e){return t=t>>>0,E.decode(y().subarray(t,t+e))}function L(t,e){if(!(t instanceof e))throw new Error(`expected instance of ${e.name}`);return t.ptr}function C(t,e){try{return t.apply(this,e)}catch(n){r.__wbindgen_exn_store(g(n))}}async function q(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(_){if(t.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",_);else throw _}let n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{let n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function H(){let t={};return t.wbg={},t.wbg.__wbg_new_28c511d9baebfa89=function(e,n){let _=new Error(m(e,n));return g(_)},t.wbg.__wbindgen_memory=function(){let e=r.memory;return g(e)},t.wbg.__wbg_buffer_12d079cc21e14bdb=function(e){let n=a(e).buffer;return g(n)},t.wbg.__wbg_newwithbyteoffsetandlength_aa4a17c33a06e5cb=function(e,n,_){let i=new Uint8Array(a(e),n>>>0,_>>>0);return g(i)},t.wbg.__wbindgen_object_drop_ref=function(e){d(e)},t.wbg.__wbg_new_63b92bc8671ed464=function(e){let n=new Uint8Array(a(e));return g(n)},t.wbg.__wbg_values_839f3396d5aac002=function(e){let n=a(e).values();return g(n)},t.wbg.__wbg_next_196c84450b364254=function(){return C(function(e){let n=a(e).next();return g(n)},arguments)},t.wbg.__wbg_done_298b57d23c0fc80c=function(e){return a(e).done},t.wbg.__wbg_value_d93c65011f51a456=function(e){let n=a(e).value;return g(n)},t.wbg.__wbg_instanceof_Uint8Array_2b3bbecd033d19f6=function(e){let n;try{n=a(e)instanceof Uint8Array}catch{n=!1}return n},t.wbg.__wbindgen_string_get=function(e,n){let _=a(n),i=typeof _=="string"?_:void 0;var f=R(i)?0:B(i,r.__wbindgen_malloc,r.__wbindgen_realloc),o=p;s()[e/4+1]=o,s()[e/4+0]=f},t.wbg.__wbg_new_16b304a2cfa7ff4a=function(){let e=new Array;return g(e)},t.wbg.__wbindgen_string_new=function(e,n){let _=m(e,n);return g(_)},t.wbg.__wbg_push_a5b05aedc7234f9f=function(e,n){return a(e).push(a(n))},t.wbg.__wbg_length_c20a40f15020d68a=function(e){return a(e).length},t.wbg.__wbg_set_a47bac70306a19a7=function(e,n,_){a(e).set(a(n),_>>>0)},t.wbg.__wbindgen_throw=function(e,n){throw new Error(m(e,n))},t}function V(t,e){return r=t.exports,z.__wbindgen_wasm_module=e,l=null,u=null,r}async function z(t){if(r!==void 0)return r;typeof t>"u"&&(t=new URL("index_bg.wasm",void 0));let e=H();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));let{instance:n,module:_}=await q(await t,e);return V(n,_)}function Q(t){return Object.prototype.hasOwnProperty.call(t,"fontBuffers")}var r,w,h,p,u,v,D,l,E,T,x,k,J,N,P,$,A,G,K,F=j(()=>{w=new Array(128).fill(void 0);w.push(void 0,null,!0,!1);h=w.length;p=0,u=null;v=typeof TextEncoder<"u"?new TextEncoder():{encode:()=>{throw Error("TextEncoder not available")}},D=typeof v.encodeInto=="function"?function(t,e){return v.encodeInto(t,e)}:function(t,e){let n=v.encode(t);return e.set(n),{read:t.length,written:n.length}};l=null;E=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&E.decode();T=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>r.__wbg_bbox_free(t>>>0)),x=class O{static __wrap(e){e=e>>>0;let n=Object.create(O.prototype);return n.__wbg_ptr=e,T.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,T.unregister(this),e}free(){let e=this.__destroy_into_raw();r.__wbg_bbox_free(e)}get x(){return r.__wbg_get_bbox_x(this.__wbg_ptr)}set x(e){r.__wbg_set_bbox_x(this.__wbg_ptr,e)}get y(){return r.__wbg_get_bbox_y(this.__wbg_ptr)}set y(e){r.__wbg_set_bbox_y(this.__wbg_ptr,e)}get width(){return r.__wbg_get_bbox_width(this.__wbg_ptr)}set width(e){r.__wbg_set_bbox_width(this.__wbg_ptr,e)}get height(){return r.__wbg_get_bbox_height(this.__wbg_ptr)}set height(e){r.__wbg_set_bbox_height(this.__wbg_ptr,e)}},k=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>r.__wbg_renderedimage_free(t>>>0)),J=class W{static __wrap(e){e=e>>>0;let n=Object.create(W.prototype);return n.__wbg_ptr=e,k.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,k.unregister(this),e}free(){let e=this.__destroy_into_raw();r.__wbg_renderedimage_free(e)}get width(){return r.renderedimage_width(this.__wbg_ptr)>>>0}get height(){return r.renderedimage_height(this.__wbg_ptr)>>>0}asPng(){try{let i=r.__wbindgen_add_to_stack_pointer(-16);r.renderedimage_asPng(i,this.__wbg_ptr);var e=s()[i/4+0],n=s()[i/4+1],_=s()[i/4+2];if(_)throw d(n);return d(e)}finally{r.__wbindgen_add_to_stack_pointer(16)}}get pixels(){let e=r.renderedimage_pixels(this.__wbg_ptr);return d(e)}},N=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>r.__wbg_resvg_free(t>>>0)),P=class{__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,N.unregister(this),t}free(){let t=this.__destroy_into_raw();r.__wbg_resvg_free(t)}constructor(t,e,n){try{let b=r.__wbindgen_add_to_stack_pointer(-16);var _=R(e)?0:B(e,r.__wbindgen_malloc,r.__wbindgen_realloc),i=p;r.resvg_new(b,g(t),_,i,R(n)?0:g(n));var f=s()[b/4+0],o=s()[b/4+1],c=s()[b/4+2];if(c)throw d(o);return this.__wbg_ptr=f>>>0,this}finally{r.__wbindgen_add_to_stack_pointer(16)}}get width(){return r.resvg_width(this.__wbg_ptr)}get height(){return r.resvg_height(this.__wbg_ptr)}render(){try{let _=r.__wbindgen_add_to_stack_pointer(-16);r.resvg_render(_,this.__wbg_ptr);var t=s()[_/4+0],e=s()[_/4+1],n=s()[_/4+2];if(n)throw d(e);return J.__wrap(t)}finally{r.__wbindgen_add_to_stack_pointer(16)}}toString(){let t,e;try{let i=r.__wbindgen_add_to_stack_pointer(-16);r.resvg_toString(i,this.__wbg_ptr);var n=s()[i/4+0],_=s()[i/4+1];return t=n,e=_,m(n,_)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,e,1)}}innerBBox(){let t=r.resvg_innerBBox(this.__wbg_ptr);return t===0?void 0:x.__wrap(t)}getBBox(){let t=r.resvg_getBBox(this.__wbg_ptr);return t===0?void 0:x.__wrap(t)}cropByBBox(t){L(t,x),r.resvg_cropByBBox(this.__wbg_ptr,t.__wbg_ptr)}imagesToResolve(){try{let _=r.__wbindgen_add_to_stack_pointer(-16);r.resvg_imagesToResolve(_,this.__wbg_ptr);var t=s()[_/4+0],e=s()[_/4+1],n=s()[_/4+2];if(n)throw d(e);return d(t)}finally{r.__wbindgen_add_to_stack_pointer(16)}}resolveImage(t,e){try{let i=r.__wbindgen_add_to_stack_pointer(-16),f=B(t,r.__wbindgen_malloc,r.__wbindgen_realloc),o=p;r.resvg_resolveImage(i,this.__wbg_ptr,f,o,g(e));var n=s()[i/4+0],_=s()[i/4+1];if(_)throw d(n)}finally{r.__wbindgen_add_to_stack_pointer(16)}}};$=z,A=!1,G=async t=>{if(A)throw new Error("Already initialized. The `initWasm()` function can be used only once.");await $(await t),A=!0},K=class extends P{constructor(t,e){if(!A)throw new Error("Wasm has not been initialized. Call `initWasm()` function.");let n=e?.font;if(n&&Q(n)){let _={...e,font:{...n,fontBuffers:void 0}};super(t,JSON.stringify(_),n.fontBuffers)}else super(t,JSON.stringify(e))}}});async function X(t){global.resvg=await Promise.resolve().then(()=>(F(),S)),await resvg.initWasm(t)}function Y(t,e){return new resvg.Resvg(t,e).render(t,e).asPng()}globalThis.load_resvg_module=X;globalThis.render_svg_png=Y;})();
